(this["webpackJsonpburger-queen"]=this["webpackJsonpburger-queen"]||[]).push([[0],{23:function(e,t,a){},31:function(e,t,a){},35:function(e,t,a){e.exports=a.p+"static/media/cheeseburger.74fb79b5.svg"},37:function(e,t,a){e.exports=a(57)},48:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),l=a.n(c),o=a(6),i=a(11),d=a(4),m=a(14),s=a(24),u=a.n(s);a(42);u.a.initializeApp({apiKey:"AIzaSyA5j_SR_OulatAA5MZLdn98F4VbeaffzfA",authDomain:"burger-queen-3d16d.firebaseapp.com",databaseURL:"https://burger-queen-3d16d.firebaseio.com",projectId:"burger-queen-3d16d",storageBucket:"burger-queen-3d16d.appspot.com",messagingSenderId:"924442370473",appId:"1:924442370473:web:4eacd8010dfa16bded24b8",measurementId:"G-DMLE30J1NK"});var b=u.a;var p=function(e){var t=e.detailReady;return r.a.createElement("section",{"data-testid":"itemsReady"},r.a.createElement("li",null,t.cantidad," ",t.producto))};var E=function(e){var t=e.objeto,a=t.cliente,n=t.estado,c=t.fecha,l=t.order;return r.a.createElement("section",{"data-testid":"addListReady"},r.a.createElement("div",{className:"card waiter p-3 border border-dark readyCard"},r.a.createElement("div",{className:"card-header border border-dark "},r.a.createElement("p",{"data-testid":"readyItem",className:"name-client"},"Cliente:"," ",a)),r.a.createElement("div",{"data-testid":"readyItem",className:"card-body"},r.a.createElement("div",null,"Estado:"," ",n),r.a.createElement("div",{"data-testid":"readyItem"},"Fecha:",r.a.createElement("p",null,c))),r.a.createElement("hr",{className:"hr"}),r.a.createElement("footer",{className:"footerReady"},r.a.createElement("ul",null,"Detalle:"," ",Object.keys(l).map((function(e){return r.a.createElement(p,{key:e.id,detailReady:l[e]})}))))))},f=(a(23),function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(m.b)(b.firestore().collection("orders").orderBy("newobj.fecha","asc")),i=Object(d.a)(l,2),s=i[0],u=i[1];return r.a.createElement(o.b,null,r.a.createElement("section",{"data-testid":"containerOrdersReady",className:"view"},r.a.createElement("div",{className:"d-flex p-2 badge badge-light  border border-light"},r.a.createElement("header",{className:"ReadysHeader"},r.a.createElement("h2",{className:"title d-inline-flex p-2 bd-highlight"}," Pedidos Listos"),r.a.createElement("nav",{className:"navReady"},r.a.createElement("button",{type:"button",className:"btn btn-outline-info buttonReady",onClick:function(e){e.preventDefault(),function(){var e=s.filter((function(e){return"Listo"===e.estado})).map((function(e){var t=e.newobj.fecha.toDate().toString();return{ID:e.ID,cliente:e.newobj.cliente,estado:e.estado,fecha:t.substring(0,t.indexOf("GMT")),tiempo_espera:e.tiempo_espera,order:e.newobj.order.map((function(e){return{cantidad:e.cantidad,producto:e.producto}}))}}));c(e)}()}},"Orden"),r.a.createElement(o.c,{to:"/WaiterView"},r.a.createElement("img",{type:"button",className:"btn-outline-info buttonReady ",alt:"return",src:"https://img.icons8.com/ios/50/000000/left2.png"}))))),r.a.createElement("div",{className:"card-columns"},r.a.createElement("blockquote",{className:"blockquote mb-0 card-body"},r.a.createElement("main",null,u?"Cargando...":a.map((function(e){return r.a.createElement(E,{key:e.id,objeto:e})})))))))});var g=function(){return r.a.createElement("section",null,r.a.createElement(f,null))},h=a(36),v=a(35),y=a.n(v),N=(a(31),function(){return r.a.createElement(o.b,null,r.a.createElement("header",{"data-testid":"logo",className:"Header border border-dark d-flex p-2 bd-highlight"},r.a.createElement("h1",{className:" d-inline-flex p-2 bd-highlight"},"BURGER QUEEN"),r.a.createElement("img",{src:y.a,className:"App-logo",alt:"logo"}),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.c,{type:"button",className:"navTitle btn btn-dark",to:"/KitchenView"}," Orden Cocina"),r.a.createElement(o.c,{type:"button",className:"navTitle btn btn-dark",to:"/ReadyOrdersView"}," Pedidos Listos"))))))});a(48);var j=function(e){var t=e.objeto,a=e.agregar,n=e.total;return r.a.createElement("tr",null,r.a.createElement("td",{"data-testid":"items"},t.descripcion),r.a.createElement("td",{"data-testid":"items"},t.precio),r.a.createElement("td",null,r.a.createElement("input",{type:"image",src:"https://img.icons8.com/ultraviolet/40/000000/add.png",alt:"A\xf1adir producto","data-testid":"mostrar",onClick:function(e){e.preventDefault(),a(t,!0),n(t)}})))};var O=function(e){var t=e.objeto,a=e.agregar,n=e.total;return r.a.createElement("tr",null,r.a.createElement("td",{"data-testid":"items"},t.descripcion),r.a.createElement("td",{"data-testid":"items"},t.precio),r.a.createElement("td",null,r.a.createElement("input",{type:"image",src:"https://img.icons8.com/ultraviolet/40/000000/add.png",alt:"A\xf1adir producto","data-testid":"agregar",onClick:function(e){e.preventDefault(),console.log(t),a(t,!0),n(t)}})))},k=function(e){var t=e.agregar,a=e.total,c=Object(n.useState)([]),l=Object(d.a)(c,2),o=l[0],i=l[1],s=Object(n.useState)([]),u=Object(d.a)(s,2),p=u[0],E=u[1],f=Object(m.a)(b.firestore().collection("menu"),{snapshotListenOptions:{includeMetadataChanges:!0}}),g=Object(d.a)(f,3),h=g[0],v=g[1],y=g[2];function N(e){var t=h.docs.map((function(e){return{categoria:e.data().categoria,descripcion:e.data().item,precio:e.data().precio,id:e.id,img:e.img}}));"adicional"===e&&E(t.filter((function(e){return"adicional"===e.categoria}))),"adicional"!==e&&i(t.filter((function(t){return t.categoria===e}))),console.log(JSON.stringify(o))}return r.a.createElement("nav",null,r.a.createElement("button",{type:"button",className:"Desayuno btn btn-info","data-testid":"desayuno",onClick:function(e){e.preventDefault(),N("desayuno")}},"Desayuno"),r.a.createElement("button",{type:"button",className:"Hamburguesa btn btn-dark",onClick:function(e){e.preventDefault(),N("hamburguesa")}},"Hamburguesa"),r.a.createElement("button",{type:"button",className:"Acompa\xf1amiento btn btn-info",onClick:function(e){e.preventDefault(),N("acompa\xf1amiento")}},"Acompa\xf1amiento"),r.a.createElement("button",{type:"button",className:"Bebidas btn btn-dark",onClick:function(e){e.preventDefault(),N("bebidas")}},"Bebidas"),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",{className:"tabla-orden"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Producto"),r.a.createElement("th",{scope:"col"},"Precio"),r.a.createElement("th",{scope:"col"},"Agregar"))),r.a.createElement("tbody",null,v?"Cargando...":y?"Hubo un error":o.map((function(e){return r.a.createElement(j,{key:e.id,objeto:e,agregar:t,total:a})})))),r.a.createElement("div",{className:"container"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-toggle":"modal","data-target":"#myModal",disabled:"hamburguesa"===o,onClick:function(e){e.preventDefault(),N("adicional")}},"Adicional"),r.a.createElement("div",{className:"modal fade",id:"myModal"},r.a.createElement("div",{className:"modal-dialog modal-sm"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"}," Adicionales "),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),r.a.createElement("div",{className:"modal-body"}),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",{className:"tabla-orden"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Producto"),r.a.createElement("th",{scope:"col"},"Precio"),r.a.createElement("th",{scope:"col"},"Agregar"))),r.a.createElement("tbody",null,function e(){return v?"Cargando...":y?"Hubo un error":p.map((function(n){return r.a.createElement(O,{key:n.id,objeto:n,agregar:t,total:a,aditionalFunction:e})}))}())),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close")))))))},w=a(18),C=a.n(w);var D=function(e){var t=e.data,a=e.addOperation,n=e.total,c=e.eliminar;return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("input",{type:"image",src:"https://img.icons8.com/ultraviolet/40/000000/minus.png",alt:"Restar producto","data-testid":"quitar",onClick:function(e){e.preventDefault(),a(t,!1),n()}})),r.a.createElement("td",{"data-testid":"products"},t.cantidad),r.a.createElement("td",null,r.a.createElement("input",{type:"image",src:"https://img.icons8.com/ultraviolet/40/000000/add.png",alt:"A\xf1adir producto","data-testid":"agregar",onClick:function(e){e.preventDefault(),a(t,!0),n()}})),r.a.createElement("td",{"data-testid":"products"},t.producto),r.a.createElement("td",{"data-testid":"products"},t.precio*t.cantidad),r.a.createElement("td",null,r.a.createElement("input",{type:"image",src:"https://img.icons8.com/officel/40/000000/delete-sign.png",alt:"Eliminar producto","data-testid":"eliminar",onClick:function(e){e.preventDefault(),c(t),n()}})))};var x=function(e){var t=e.data;return r.a.createElement("tr",{"data-testid":"resume"},r.a.createElement("td",null,t.cantidad),r.a.createElement("td",null,t.producto),r.a.createElement("td",null,t.precio*t.cantidad))};var R=function(e){var t=e.data,a=e.addOperation,c=e.total,l=e.eliminar,o=e.newtotal,i=e.reset,m=Object(n.useState)(""),s=Object(d.a)(m,2),u=s[0],b=s[1];return r.a.createElement("div",null,r.a.createElement("span",null,"Nombre del cliente"),r.a.createElement("input",{"data-testid":"input",type:"text",value:u,onChange:function(e){var t=e.target.value;b(t)}}),r.a.createElement("table",{"data-testid":"mostrarTabla",className:"table table-bordered table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"-"),r.a.createElement("th",{scope:"col"},"Cantidad"),r.a.createElement("th",{scope:"col"},"+"),r.a.createElement("th",{scope:"col"},"Producto"),r.a.createElement("th",{scope:"col"},"Precio"),r.a.createElement("th",{scope:"col"},"Eliminar"))),r.a.createElement("tbody",null,Object.keys(t).map((function(e){return r.a.createElement(D,{data:t[e],addOperation:a,total:c,eliminar:l})})),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"3"},"Total"),r.a.createElement("th",null,"S/ "),r.a.createElement("th",{colSpan:"2"},c())))),r.a.createElement("div",{className:"container"},r.a.createElement("button",{type:"button",id:"button",className:"btn btn-secondary","data-toggle":"modal","data-target":"#exampleModal","data-testid":"confirmarpedido",disabled:""===u},"Confirmar pedido"),r.a.createElement("div",{className:"modal fade",id:"exampleModal","data-testid":"modal"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"Resumen pedido"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("h5",null,"Cliente:"," ",u),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Productos"),r.a.createElement("th",{scope:"col"},"Precio"))),r.a.createElement("tbody",null,Object.keys(t).map((function(e){return r.a.createElement(x,{data:t[e]})})),r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"2"},"Total"),r.a.createElement("th",null,c()))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Cancelar"),r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal","data-testid":"enviarcocina",onClick:function(e){e.preventDefault(),function(e){var t={cliente:u,order:e,total:o,fecha:new Date};C.a.firestore().collection("orders").add({newobj:t}).then((function(e){C.a.firestore().collection("orders").doc(e.id).update({ID:e.id,estado:"",tiempo_espera:""})})),b(""),i()}(t)}},"Enviar a cocina")))))))};var S=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(0),o=Object(d.a)(l,2),i=o[0],m=o[1],s=function(){var e=0;return a.forEach((function(t){var a=t.precio,n=t.cantidad;m(e+=a*n)})),e},u=function(e,t){var n={producto:e.descripcion,precio:e.precio,cantidad:1,id:e.id},r=a.filter((function(e){return e.id===n.id})),l=a.concat([n]),o=a.map((function(e){var a=e;return e.id===n.id&&(e.cantidad>=1&&!1===t&&(a.cantidad-=1),!0===t?a.cantidad+=1:e.cantidad>=2&&!1===t&&(a.cantidad-=1)),a}));0===r.length?c(l):c(o)};return r.a.createElement("div",{className:"viewWaiter","data-testid":"containerWaiterView"},r.a.createElement(N,null),r.a.createElement("div",{className:"d-flex bd-highlight"},r.a.createElement("div",{className:"p-2 flex-fill bd-highlight"},r.a.createElement(k,{agregar:u,total:s})),r.a.createElement("div",{className:"p-2 flex-fill bd-highlight"},r.a.createElement(R,{data:a,addOperation:u,total:s,eliminar:function(e){var t=Object(h.a)(a),n=a.findIndex((function(t){return t.id===e.id})),r=t.splice(n,1);console.log(r),c(t)},newtotal:i,reset:function(){c([])}}))))};var A=function(e){var t=e.detail;return r.a.createElement("ul",{"data-testid":"itemsKitchen"},r.a.createElement("li",null,t.cantidad," ",t.producto))};var I=function(e){var t=e.objeto,a=t.cliente,c=t.fecha,l=t.order,o=t.ID,i=Object(n.useState)(""),m=Object(d.a)(i,2),s=m[0],u=m[1];return r.a.createElement("section",null,r.a.createElement("div",{className:"card waiter p-3 border border-dark readyCard"},r.a.createElement("div",{className:"card-header border border-dark "},r.a.createElement("p",{className:"name-client"},"Cliente:"," ",a)),r.a.createElement("div",{className:"card-body"},r.a.createElement("li",null,"Orden:"," ",Object.keys(l).map((function(e){return r.a.createElement(A,{key:e.id,detail:l[e]})}))),r.a.createElement("li",null,"Fecha:"," ",c),r.a.createElement("hr",{className:"hr"}),r.a.createElement("footer",{className:""},r.a.createElement("input",{type:"checkbox",onChange:function(){var e=(new Date).toString(),t=new Date(e.substring(0,e.indexOf("GMT"))),a=new Date(c),n=function(e){var t=Math.floor(e/3600);t=t<10?"0".concat(t):t;var a=Math.floor(e/60%60);a=a<10?"0".concat(a):a;var n=e%60;return n=n<10?"0".concat(n):n,"".concat(t,":").concat(a,":").concat(n)}((t.getTime()-a.getTime())/1e3);u(n),C.a.firestore().collection("orders").doc(o).update({estado:"Listo",tiempo_espera:n})}}),r.a.createElement("span",null," Listo "),r.a.createElement("span",null,r.a.createElement("p",null,"Tiempo de espera: "),r.a.createElement("p",null,s))))))},M=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(m.b)(b.firestore().collection("orders").orderBy("newobj.fecha","asc")),i=Object(d.a)(l,3),s=i[0],u=i[1],p=i[2];return r.a.createElement("section",{className:"view"},r.a.createElement("div",{className:"d-flex p-2 badge badge-light  border border-light"},r.a.createElement("header",{className:"text-center  d-flex justify-content-center ReadysHeader"},r.a.createElement("h2",{className:"title-viewKitchen title d-inline-flex p-2 bd-highlight"}," \xd3rdenes en espera... "),r.a.createElement("nav",{className:"navReady"},r.a.createElement("button",{type:"button",className:"btn btn-outline-info buttonReady",onClick:function(e){e.preventDefault(),function(){var e=s.filter((function(e){return""===e.estado})).map((function(e){var t=e.newobj.fecha.toDate().toString();return{ID:e.ID,cliente:e.newobj.cliente,fecha:t.substring(0,t.indexOf("GMT")),order:e.newobj.order.map((function(e){return{cantidad:e.cantidad,producto:e.producto}}))}}));c(e),console.log(JSON.stringify(a))}()}},"Orden"),r.a.createElement(o.c,{to:"/WaiterView"},r.a.createElement("img",{type:"button",className:"btn-outline-info buttonReady ",alt:"return",src:"https://img.icons8.com/ios/50/000000/left2.png"}))))),r.a.createElement("div",{className:"card-columns"},r.a.createElement("blockquote",{className:"blockquote mb-0 card-body"},r.a.createElement("main",null,u?"Cargando...":p?"Hubo un error":a.map((function(e){return r.a.createElement(I,{key:e.id,objeto:e})}))))))};var q=function(){return r.a.createElement("section",null,r.a.createElement(M,null))},T=function(){return r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:S}),r.a.createElement(i.a,{exact:!0,path:"/WaiterView",component:S}),r.a.createElement(i.a,{exact:!0,path:"/KitchenView",component:q}),r.a.createElement(i.a,{exact:!0,path:"/ReadyOrdersView",component:g}))};var L=function(){return r.a.createElement(o.b,null,r.a.createElement("div",null,r.a.createElement(T,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(o.a,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.ff885b8e.chunk.js.map